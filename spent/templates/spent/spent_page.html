{% extends "base.html" %}
 {% load crispy_forms_tags %}
{% block title %} Spent | Add Spent {% endblock title%}

{% block content %}
<h1 class="text-center text-primary font-weight-bold">SPENDING PAGE</h1>
<hr/>
<form action="{% url 'add_spent'%}" method="post">
    {% csrf_token %}
	<div class="form-group">
	    {% if form.date.errors %}
		    <div class="alert alert-danger">{{form.date.errors}}</div>
		{% endif %}
		<label for="{{form.date.id_for_label}}" class="form-control-label"> Date of Spent<span class="asteriskField">*</span> </label>
		<input class="form-control" type ="date" id="{{form.date.id_for_label}}" name="{{form.date.html_name}}" value=""/>
	</div>


	<div class="form-group">
		 {% if form.category_id.errors %}
		    <div class="alert alert-danger">{{form.category_id.errors}}</div>
		{% endif %}
		<label for="category_id" class="form-control-label">Spent Category<span class="asteriskField">*</span> </label>
		{{form.category_id}}
		<!--<input class="form-control" type ="text" id="credit_agency" name="reg_date" value=""/> -->
	</div>



	<div class="form-group">
		 {% if form.amount.errors %}
		    <div class="alert alert-danger">{{form.amount.errors}}</div>
		{% endif %}
		<label for="amount" class="form-control-label"> Amount Spent<span class="asteriskField">*</span></label>
		{{form.amount}}
	<!--	<input class="form-control" type ="number" id="amount" name="amount" value=""/> -->
	</div>

	<div class="form-group">
		 {% if form.comment.errors %}
		    <div class="alert alert-danger">{{form.comment.errors}}</div>
		{% endif %}
		<label for="comment" class="form-control-label"> Reason</span></label>
		{{form.comment}}
	<!--	<input class="form-control" type ="number" id="amount" name="amount" value=""/> -->
	</div>
    <button type="submit" class="btn btn-primary mt-3">Submit</button>
</form>
<script>
    let dateElement = document.getElementById("id_date");
    const d = new Date();
    let day = d.getDate();
    let month = d.getMonth() + 1;
    let year = d.getFullYear();
    let date = "";
    if(month <10){
       if(day < 10){
          date +=year+"-0"+month+"-0"+day;
       }else{
          date +=year+"-0"+month+"-"+day;
       }
    }else{
    	if(day < 10){
        	date +=year+"-"+month+"-0"+day;
        }else{
        	date +=year+"-"+month+"-"+day;
        }
    }
    dateElement.setAttribute("value",date);
</script>

{% endblock content %}